<!DOCTYPE html> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="stylesheet" type="text/css" href="/assets/css/materialize.css"> <link rel="stylesheet" href="https://cdn.rawgit.com/konpa/devicon/df6431e323547add1b4cf45992913f15286456d3/devicon.min.css"> <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"> <title>James Hamann</title> <script type="text/javascript">screen.width<=699&&(document.location="mobile.html");</script> </head> <body> <h2 style="text-align:center"> Latest Blog Posts </h2> <p style="text-align:center;"><a class="waves-effect waves-light btn green darken-2" target="_blank" href="https://medium.com/@jameshamann/"><i class="material-icons right">library_books</i>Read more at Medium</a></p> <div class="fixed-action-btn horizontal"> <a class="btn-floating btn-large waves-effect waves-default pulse" href="/"> <i class="material-icons">arrow_back</i> </a> </div> <div class="row"> <div class="col s10 offset-s1"> <h4 style="text-align:center"><b>A brief guide to Semantic Versioning</b></h4> <p style="text-align:justify"><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*sr-foEv_uj2kJ4Ew6mhDvw.jpeg"></figure></p> <p>Whenever releasing a product or app, youâ€™ll want to version it. This helps users understand what stage the app is at and also helps when integrating the app into package managers. In Software Development, we version apps by following <strong>Semantic Versioning, </strong>which is a general template that everyone uses and understands.</p> <blockquote>Why bother?</blockquote> <p>Versioning our apps helps us keep track of whatâ€™s been added/removed at what point. It can get real hectic, real fast, especially in the early stages when youâ€™re releasing new features and fixing bugs. Youâ€™re gonna want to reference things that have been added or things that have beenÂ fixed.</p> <blockquote>Where would I keep a track ofÂ this?</blockquote> <p>You can <strong>tag </strong>your releases on <strong>Github </strong>using <a href="https://git-scm.com/book/en/v2/Git-Basics-Tagging"><strong>git tag.</strong></a><strong> </strong>Essentially, you just tag a version number to a specific commit, like a merge, push it and this appears on the repository under â€œreleasesâ€, with any notes youâ€™d like to add. Itâ€™s best to keep track of all these changes in a <strong>CHANGELOG, </strong>thereâ€™s a nice format to follow outlined <a href="https://keepachangelog.com/en/1.0.0/">here.</a> This way you can keep track of whatâ€™s been fixed and any upcoming features that are being released into the next version. Itâ€™s also important to remember, software is built for people. So people need to actually understand whatâ€™s going on and at what stage your apps currently at, having a well documented<strong> CHANGELOG</strong> helps provide a clear timeline and explanation of yourÂ app.</p> <blockquote>Ok, so how do I go about versioning my app/package?</blockquote> <h4>0â€Šâ€”â€ŠPre-MVP/Alpha</h4> <p>At this stage, youâ€™re developing your app and still building towards an MVP. Thereâ€™s no real point differentating between versions here because itâ€™s not a useable product yet. During this period, the version will remain atÂ <strong>0.</strong></p> <h4><strong>Major.Minor.Patchâ€Šâ€”â€ŠAlpha/Beta</strong></h4> <p>Once you reach your <strong>MVP, </strong>you might iterate over this and create <strong>Alpha/Beta </strong>releases for users to test and supply feedback on. When creating your first release, youâ€™ll want to start versioning. This helps you keep track of your app and creates a timeline of what features were added when and what bugs have and have not been fixed yet. You might be wondering, what exactly constitutes a major, minor or patchÂ release.</p> <p><strong>Major Releaseâ€Šâ€”â€Š</strong>Increment the first digit by 1 if the new features break backwards compatibility/current features</p> <p><strong>Minor Releaseâ€Šâ€”â€Š</strong>Increment the middle digit by 1 if the new features donâ€™t break any existing features and are compatible with the app in itâ€™s currentÂ state.</p> <p><strong>Patch Releaseâ€Šâ€”â€Š</strong>Increment the last digit by 1 if youâ€™re publishing bug/patch fixes to yourÂ app.</p> <p>Before publishing your first, useable version, you might find yourself incrementing the middle and the last digit to keep track of Alpha/Beta releases. Only once youâ€™re ready for a proper, first release, should you start versioning fromÂ 1.0.0.</p> <p>I canâ€™t stress enough the benefits of keeping a clean, well documented CHANGELOG. Regardless of whether your project is open source or not, itâ€™s vital to keep track of whatâ€™s been worked on. It helps guide you when deciding what features need work and gives you good insight into your releaseÂ cycle.</p> <p>If youâ€™re interested in reading more, you can get the full breakdown of <a href="https://semver.org/">Semantic Versioning on theirÂ site.</a></p> <p>As always, thanks for reading, hit ğŸ‘ if you like what you read and be sure to follow to keep up to date with futureÂ posts.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/728/1*UtabZw8_UJYPKlPvfMT0lQ.gif"></figure><img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=c6055d87c90e" width="1" height="1"> </div> </div> <div class="row"> <div class="col s10 offset-s1"> <h4 style="text-align:center"><b>Hi Ezequiel FrescÃ³ Werchowsky, thanks for reading and getting in touch!</b></h4> <p style="text-align:justify"></p> <p>Hi <a href="https://medium.com/u/92d053321ec7">Ezequiel FrescÃ³ Werchowsky</a>, thanks for reading and getting in touch! Apologies, it seems like I mightâ€™ve done, thank you for letting me know, Iâ€™ll update the post with theÂ changes.</p> <p>Regarding your error, it looks like itâ€™s an issue with AWS and not being able to read your credentials. Have you downloaded the AWS CLI (<a href="https://docs.aws.amazon.com/cli/latest/userguide/installing.html">https://docs.aws.amazon.com/cli/latest/userguide/installing.html</a>), if so run the command: aws configure. This will prompt you to enter you AWS_ACCESS_KEY and your AWS_SECRET_ACCESS_KEY, which can be retrieved from the AWS console, under â€œMy Secruity Credentialsâ€, on the top right dropdown by your username.</p> <p>Try the above and let me know if you run into any other issues, Iâ€™m happy toÂ help!</p> <p>Thanks, James</p> <img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=3be6aa3813e8" width="1" height="1"> </div> </div> <div class="row"> <div class="col s10 offset-s1"> <h4 style="text-align:center"><b>Ryan Pereira Thanks for reading and getting in touch!</b></h4> <p style="text-align:justify"></p> <p><a href="https://medium.com/u/bf1bb52caac4">Ryan Pereira</a> Thanks for reading and getting inÂ touch!</p> <p>Here, Iâ€™m explaining that you should setup a brand new jekyll site and add your Gem, that youâ€™ve just built, to the Gemfile and running bundle install. When adding your gem, you need to specify itâ€™s path, like this:<strong> gem â€œYOURTHEMEâ€ =&gt;Â :path =&gt; â€œpath/to/your/gemâ€.</strong></p> <p>Looking at the error from your previous comment, I suggest running gem install bundler and gem install jekyll again, looks like maybe an issue with the Ruby Version. In which case it might be best to upgrade to 2.4 +. To upgrade your ruby version, you can install <a href="https://rvm.io/">RVM</a> (ruby version manager).</p> <p>This is only applicable if youâ€™re looking to build your own Gem Theme and publish it. If you wish to use an existing theme, you can use the one I created (jekyll-material-theme) and customise it or grab one from <a href="http://jekyllthemes.org/">http://jekyllthemes.org/</a>.</p> <p>Hope this helps a little! Let me know if you need anythingÂ else.</p> <p>Thanks, James</p> <img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=3e1c288759dc" width="1" height="1"> </div> </div> <div class="row"> <div class="col s10 offset-s1"> <h4 style="text-align:center"><b>Configuring your Elastic Beanstalk App for SSL</b></h4> <p style="text-align:justify"><figure><img alt="" src="https://cdn-images-1.medium.com/max/859/1*a96dh5kNx9M4xzB2EiRjuQ.png"></figure></p> <p>Itâ€™s always a good idea to add a SSL certificate. It gives people piece of mind when visiting your site that information isnâ€™t being accessed by third-parties and also<a href="https://webmasters.googleblog.com/2014/08/https-as-ranking-signal.html"> boosts your SEO ranking in Google.</a> Setting your Elastic Beanstalk app up for SSL isnâ€™t too difficult and requires just a few simpleÂ steps.</p> <h4>Getting Started</h4> <p>Iâ€™m going to assume you have a domain already registered, either living in <a href="https://aws.amazon.com/route53/">Route 53</a> or another domain provider. To start with, if you havenâ€™t done so already, youâ€™ll need to point your domain to your EB app. This can be done by creating an Alias <strong>A Record </strong>and setting itâ€™s value equal to your EB Appâ€™s <strong>URL. </strong>This can be found on the Elastic Beanstalk Dashboard.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*AxGaW7tST3TXrMEGB5f59A.png"><figcaption>Elastic Beanstalk Management Console</figcaption></figure><p>In this example, itâ€™s <a href="http://ssl-example.eu-west-2.elasticbeanstalk.com">http://ssl-example.eu-west-2.elasticbeanstalk.com</a>. When adding this to your domain, ensure the A record is set to <strong>Yes </strong>for <strong>Alias.</strong> The value will then be your appâ€™s Elastic Beanstalk URL.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/824/1*lPbprwruQj6NT15ArSHKsw.png"><figcaption>Route 53 Configuration for an AÂ Record</figcaption></figure><p>Now, if you visit your domain, in my case <a href="http://sslexample.jameshamann.com">sslexample.jameshamann.com</a>, youâ€™ll see your app! You can try to type <a href="https://yourdomain.com">https://yourdomain.com</a> but as thereâ€™s no certificate, the request will timeout. So letâ€™s add a certificate!</p> <h4>Configure yourÂ App</h4> <p>In order to use a SSL certificate for your Elastic Beanstalk App, youâ€™ll need to change the configuration of your app to use <strong>Load Balancers </strong>as opposed to a single instance. This can cost more, so please check your billing dashboard to ensure youâ€™re not going over budget or anything.</p> <blockquote>What are Application Load Balancers?</blockquote> <p>In essence, instead of running a single instance, a load balancer distributes traffic across multiple targets, instances, across multiple availability zones, which boosts availability of yourÂ app.</p> <p>In our example the SSL certificate is applied to the load balancer, so connections between the Client and Load Balancer are secure and encrypted.</p> <p>In order to configure your app, head to the <strong>Configuration </strong>tab of your Elastic Beanstalk dashboard and click the <strong>modify </strong>link on the <strong>CapacityÂ </strong>card.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*p_0OSYzUKzxnVcDyIx1UTg.png"><figcaption>Configuration Tab of Elastic Beanstalk Appâ€Šâ€”â€ŠCapacity card located at the topÂ right</figcaption></figure><p>Once here, the only thing I advise you to change is the maximum number of instances, from <strong>4 to 1</strong>, however thatâ€™s up toÂ you.</p> <p>Donâ€™t change anything else, just hitÂ <strong>Save.</strong></p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*gLJNgOZBKkiCGlXF7fT-WA.png"><figcaption>Adding a LoadÂ Balancer</figcaption></figure><p>This will then take you back to the configuration page, where youâ€™ll need to hit <strong>Apply </strong>for your changes to take place. As your app will be unavailable for a short period whilst the changes take place, youâ€™ll need to confirm again after hittingÂ Apply.</p> <h4>Creating an SSL Certificate withÂ ACM</h4> <p>Now we need to actually create our certificate. As weâ€™re using Elastic Beanstalk, it makes sense to create a certificate in ACM (Amazon Certificate Manager).</p> <p>In my case, I opted for a wildcard certificate for the domain <strong>jameshamann.com. </strong>This means all alias domains, i.e sslexample.jameshamann.com will be covered by the same SSL certificate. To do this, head over to <strong>ACM </strong>and request a certificate. Type in your domain, if you wish to setup a wild card add a * to the beginning of yourÂ domain.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*9m-OrW6A1FSoG69zCP7J7A.png"><figcaption>AWS Certificate Manager Requesting a Certificate</figcaption></figure><p>Youâ€™ll have two options to validate that youâ€™re the owner of the domain. DNS or Email. I chose DNS, but whatever you choose, just make sure you have access to the correct email domains if choosingÂ email.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*2ljBzx4kwrwjG4WOyqIfQA.png"><figcaption>DNS Config forÂ domain</figcaption></figure><p>To verify via DNS, youâ€™ll need to add a CNAME record with whatever values are generated in your <strong>DNS_Configuration.csv </strong>file.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/872/1*xF8yRtr4dISmP3LOZTjsnw.png"><figcaption>Enter the Name value from theÂ .csv file and the Value from theÂ .csv file and hitÂ create.</figcaption></figure><p>This will take a little time to verify, but once done, your certificate should move from <strong>Pending </strong>toÂ <strong>Issued.</strong></p> <h4>Bringing it allÂ together</h4> <p>Lastly, we need to apply our newly created SSL Certificate to our Appâ€™s Load Balancer. To do this, navigate to the Configuration Tab of your Elastic Beanstalk App. There should be a new card labelled <strong>Load Balancer.</strong></p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*RDqYx_EicYyrVFw-x-wVyA.png"><figcaption>Click <strong>modify </strong>on the <strong>Load BalancerÂ </strong>card</figcaption></figure><p>In order to add the certificate, weâ€™ll need to open up port <strong>443 </strong>(SSL Port) and assign our certificate.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*IVTxvbsh7tQ9RlaQ-1bOBA.png"></figure><p>If your certificate doesnâ€™t appear in the dropdown, try refreshing and waiting a bit. Once it does, choose it and hit save. Again, youâ€™ll be directed back to the Configuration page where youâ€™ll have to <strong>Apply </strong>yourÂ changes.</p> <p>Once completeled, navigate to <a href="https://yourdomain.com"><strong>https://yourdomain.com</strong></a><strong> </strong>and you should see your site served throughÂ HTTPS.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*hs4xzNHX06qnQXAW2jWRhQ.png"><figcaption>Site Secured!</figcaption></figure><p>As always, thanks for reading, hit ğŸ‘ if you like what you read and be sure to follow to keep up to date with futureÂ posts.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/728/1*nkCbG-E0EXjdaOtcaPQ6_g.gif"></figure><img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=9065ca091f49" width="1" height="1"> </div> </div> <div class="row"> <div class="col s10 offset-s1"> <h4 style="text-align:center"><b>Node.js RESTful API with DynamoDB Local</b></h4> <p style="text-align:justify"><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*ejTEhVznAjlYSXsWz5zZ7A.png"></figure></p> <p>Node is usually used along side MongoDB in the <strong>MEAN</strong> stack. However, using Amazonâ€™s DynamoDB has itâ€™s own benefits, not least from speed, scalability, affordability and freeing your time up from configuring database clusters/updates. Through this post Iâ€™ll discuss how to setup DynamoDB with your Node projectÂ locally.</p> <h4>Versions</h4> <ul> <li>Node 9.2.1</li> <li>Express 4.15.5</li> <li>DynamoDB Localâ€Šâ€”â€Š<a href="https://s3.eu-central-1.amazonaws.com/dynamodb-local-frankfurt/dynamodb_local_latest.tar.gz">Latest</a> </li> <li> <a href="http://www.oracle.com/technetwork/java/javase/downloads/jre8-downloads-2133155.html">JRE</a> (Java Runtime Environment) 6.x orÂ newer</li> </ul> <h4>Setting up your NodeÂ Project</h4> <p>To get things moving quickly, weâ€™ll use the express generator to scaffold a project forÂ us.</p> <pre><strong>#bash</strong></pre> <pre>$ express node-dynamo-db<br>   <br>   create : node-dynamo-db<br>   create : node-dynamo-db/package.json<br>   create : node-dynamo-db/app.js<br>   create : node-dynamo-db/public<br>   create : node-dynamo-db/routes<br>   create : node-dynamo-db/routes/index.js<br>   create : node-dynamo-db/routes/users.js<br>   create : node-dynamo-db/views<br>   create : node-dynamo-db/views/index.jade<br>   create : node-dynamo-db/views/layout.jade<br>   create : node-dynamo-db/views/error.jade<br>   create : node-dynamo-db/bin<br>   create : node-dynamo-db/bin/www<br>   create : node-dynamo-db/public/javascripts<br>   create : node-dynamo-db/public/images<br>   create : node-dynamo-db/public/stylesheets<br>   create : node-dynamo-db/public/stylesheets/style.css</pre> <pre>install dependencies:<br>     $ cd node-dynamo-db &amp;&amp; npm install</pre> <pre>run the app:<br>     $ DEBUG=node-dynamo-db:* npm start</pre> <pre>$ cd node-dynamo-db<br>$ npm install</pre> <p>Fire up your server to ensure itâ€™s all working as intended.</p> <pre>$ npm start</pre> <p>Navigate to <a href="http://localhost:3000">http://localhost:3000</a> and youâ€™ll see the welcome page from express, likeÂ below.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*t5zAKeNYDFMigF_oyNIUdA.png"><figcaption>Generic Express WelcomeÂ Page</figcaption></figure><p>Next, as thereâ€™s no live-reloading, weâ€™ll install Nodemon to watch our files and whenever a change is made, itâ€™ll restart the server for us. Without Nodemon, youâ€™re gonna get frustrated real fast. Once installed, weâ€™ll update our <strong>start </strong>command within the <strong>package.json</strong> to run the <strong>nodemon </strong>command as opposed toÂ node.</p> <pre><strong>#bash </strong></pre> <pre>$ npm install -g nodemon</pre> <pre>--------------------------------------------------------------------</pre> <pre><strong>#package.json </strong></pre> <pre>{<br>  "name": "node-dynamo-db",<br>  "version": "0.0.0",<br>  "private": true,<br>  "scripts": {<br><strong>    "start": "nodemon  ./bin/www"<br></strong>  },<br>  "dependencies": {<br>    "body-parser": "~1.18.2",<br>    "cookie-parser": "~1.4.3",<br>    "debug": "~2.6.9",<br>    "express": "~4.15.5",<br>    "jade": "~1.11.0",<br>    "morgan": "~1.9.0",<br>    "serve-favicon": "~2.4.5"<br>  }<br>}</pre> <h4>Setting upÂ DynamoDB</h4> <p>First download the file from the link above, unpack it and navigate into the directory. Youâ€™ll notice DynamoDB is provided as an executableÂ .jar file. In order to start the database up, we need to run the following command within the directory theÂ .jar file isÂ located.</p> <pre><strong>#bash </strong></pre> <pre>$ java -Djava.library.path=./DynamoDBLocal_lib -jar DynamoDBLocal.jar -sharedDb</pre> <pre>Initializing DynamoDB Local with the following configuration:<br>Port: 8000<br>InMemory: false<br>DbPath: null<br>SharedDb: true<br>shouldDelayTransientStatuses: false<br>CorsParams: *</pre> <p>Boom, youâ€™ve got a local instance of DynamoDB running! Problem is, unless youâ€™re gifted with photographic memory, youâ€™re probably not going to rememeber the above command and even if you do, itâ€™s ballache to write out each time. Lets speed things up and create an <a href="https://medium.com/@jameshamann/automation-with-cron-d10f7cbbb638">alias</a> command within ourÂ <strong>.bashrc </strong>orÂ <strong>.zshrc, </strong>depending on what you use. Mine looks likeÂ this.</p> <pre><strong>#bash .zshrc or .bashrc</strong></pre> <pre>alias ddb="cd path/to/dynamodb_local_latest &amp;&amp; java -Djava.library.path=./DynamoDBLocal_lib -jar DynamoDBLocal.jar -sharedDb"</pre> <p>Iâ€™ve named my alias <strong>ddb, </strong>it navigates to the directory and then executes theÂ .jar, simple as that. Now when reloading my terminal window and running ddb, DynamoDB should spinÂ up.</p> <pre><strong>#bash</strong></pre> <pre>$ ddb</pre> <pre>Initializing DynamoDB Local with the following configuration:<br>Port: 8000<br>InMemory: false<br>DbPath: null<br>SharedDb: true<br>shouldDelayTransientStatuses: false<br>CorsParams: *</pre> <p>Now weâ€™re all set to start creating our table and to begin seeding some data into our table. For the purpose of this demo, Iâ€™ll be making a database revolving aroundÂ cars.</p> <p>Before moving forward, letâ€™s just update our <strong>package.json </strong>to automate some of the commands weâ€™ll be running fairly frequently.</p> <pre>{<br>  "name": "crafty-api",<br>  "version": "0.0.0",<br>  "private": true,<br>  "scripts": {<br>   <strong> "start": "nodemon app.js",<br></strong>    <strong>"create-db": "cd dynamodb &amp;&amp; node createCarsTable.js &amp;&amp; cdÂ ..",<br>    "delete-db": "cd dynamodb &amp;&amp; node deleteCarsTable.js &amp;&amp; cdÂ ..",<br>    "load-data": "cd dynamodb &amp;&amp; node loadCarData.js &amp;&amp; cdÂ ..", <br>    "read-data": "cd dynamodb &amp;&amp; node readDataTest.js &amp;&amp; cdÂ .."<br></strong>  },<br>  "dependencies": {<br>    "aws-sdk": "^2.176.0",<br>    "body-parser": "~1.18.2",<br>    "cookie-parser": "~1.4.3",<br>    "cors": "^2.8.4",<br>    "debug": "~2.6.9",<br>    "ejs": "^2.5.7",<br>    "express": "~4.15.5",<br>    "jade": "~1.11.0",<br>    "morgan": "~1.9.0",<br>    "newman": "^3.9.1",<br>    "node-uuid": "^1.4.8",<br>    "serve-favicon": "~2.4.5",<br>    "uuid": "^3.2.1"<br>  }<br>}</pre> <p>This is what my current one looks like and it just speeds things up so much, so consider adding your own to speed up your workflow.</p> <p>First things first, weâ€™re gonna need to create a table and choose a <strong>partition key. </strong>Amazon provided pretty good advice <a href="https://aws.amazon.com/blogs/database/choosing-the-right-dynamodb-partition-key/">here</a> on what constitutes as a good key. Reason we need a key is because Dynamo DB partitions our data across multiple storage units and uses that key to both store and read the data. Therefore, <strong>the partition key must be a unique value</strong>. Good examples are user_ids and devices_ids.</p> <p>For my table Iâ€™ve chosenÂ <strong>car_id.</strong></p> <pre><strong>#JavaScript - createCarsTable.js</strong></pre> <pre>var AWS = require("aws-sdk");</pre> <pre>AWS.config.update({<br>  region: "eu-west-2",<br>  endpoint: "<a href="http://localhost:8000">http://localhost:8000</a>"<br>});</pre> <pre>var dynamodb = new AWS.DynamoDB();</pre> <pre>var params = {<br>    TableName : "Cars",<br>    KeySchema: [<br>        { AttributeName: "id", KeyType: "HASH"}, <strong> //Partition key</strong></pre> <pre>],<br>    AttributeDefinitions: [<br>        { AttributeName: "id", AttributeType: "N" },</pre> <pre>],<br>    ProvisionedThroughput: {<br>        ReadCapacityUnits: 5,<br>        WriteCapacityUnits: 5<br>    }<br>};</pre> <pre>dynamodb.createTable(params, function(err, data) {<br>    if (err) {<br>        console.error("Unable to create table. Error JSON:", JSON.stringify(err, null, 2));<br>    } else {<br>        console.log("Created table. Table description JSON:", JSON.stringify(data, null, 2));<br>    }<br>});</pre> <p>Now run youâ€™re <strong>create-db </strong>command, making sure Dynamo DB is running in the background on another terminal window, on portÂ 8000.</p> <pre><strong>#bash</strong></pre> <pre>yarn create-db<br>yarn run v1.3.2<br>$ cd dynamodb &amp;&amp; node createCarsTable.js &amp;&amp; cd ..<br>Created table. Table description JSON: {<br>  "TableDescription": {<br>    "AttributeDefinitions": [<br>      {<br>        "AttributeName": "id",<br>        "AttributeType": "N"<br>      }<br>    ],<br>    "TableName": "Cars",<br>    "KeySchema": [<br>      {<br>        "AttributeName": "id",<br>        "KeyType": "HASH"<br>      }<br>    ],<br>    "TableStatus": "ACTIVE",<br>    "CreationDateTime": "2018-02-01T16:08:25.308Z",<br>    "ProvisionedThroughput": {<br>      "LastIncreaseDateTime": "1970-01-01T00:00:00.000Z",<br>      "LastDecreaseDateTime": "1970-01-01T00:00:00.000Z",<br>      "NumberOfDecreasesToday": 0,<br>      "ReadCapacityUnits": 5,<br>      "WriteCapacityUnits": 5<br>    },<br>    "TableSizeBytes": 0,<br>    "ItemCount": 0,<br>    "TableArn": "arn:aws:dynamodb:ddblocal:000000000000:table/Cars"<br>  }<br>}<br>âœ¨  Done in 0.47s.</pre> <p>Now youâ€™re table is setup and ready to seed dataÂ into.</p> <p>In this example, weâ€™re using Dynamo DBâ€™s <a href="https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/DynamoDB.html#putItem-property"><strong>PutItem</strong></a><strong> </strong>method to seed some data into our Database.</p> <pre>#<strong>JSON - carData.json </strong></pre> <pre>[<br>  { "id": 1,<br>    "type" : "Automatic",<br>    "name" : "Toyota Yaris",<br>    "manufacturer" : "Toyota",<br>    "fuel_type" : "Petrol",<br>    "description" : "A smooth ride"<br>  },<br>  { "id": 2,<br>    "type" : "Manual",<br>    "name" : "Volkswagen Golf",<br>    "manufacturer" : "Volkswagen",<br>    "fuel_type" : "Petrol",<br>    "description" : "Good Value"<br>  }<br>]</pre> <pre>------------------------------------------------------------------</pre> <pre>#<strong>JavaScript - loadCarData.js</strong></pre> <pre>var AWS = require("aws-sdk");<br>var fs = require('fs');</pre> <pre>AWS.config.update({<br>    region: "eu-west-2",<br>    endpoint: "<a href="http://localhost:8000">http://localhost:8000</a>"<br>});</pre> <pre>var docClient = new AWS.DynamoDB.DocumentClient();</pre> <pre>console.log("Importing Cars into DynamoDB. Please wait.");</pre> <pre>var cars = JSON.parse(fs.readFileSync('carData.json', 'utf8'));</pre> <pre>cars.forEach(function(car) {<br>  console.log(car)</pre> <pre>var params = {<br>        TableName: "Cars",<br>        Item: {<br>            "id": car.id,<br>            "type": car.type,<br>            "name": car.name,<br>            "manufacturer": car.manufacturer,<br>            "fuel_type": car.fuel_type,<br>            "description": car.description<br>        }<br>    };</pre> <pre>docClient.put(params, function(err, data) {<br>       if (err) {<br>           console.error("Unable to add Car", car.name, ". Error JSON:", JSON.stringify(err, null, 2));<br>       } else {<br>           console.log("PutItem succeeded:", car.name);<br>       }<br>    });<br>});</pre> <p>If you run your <strong>load-data </strong>command, it should seed in the two items in our <strong>carData.json </strong>file and log the names back in the console, likeÂ below.</p> <pre>#<strong>bash </strong></pre> <pre>yarn load-data<br>yarn run v1.3.2<br>$ cd dynamodb &amp;&amp; node loadCarData.js &amp;&amp; cd ..<br>Importing Cars into DynamoDB. Please wait.<br>{ id: 1,<br>  type: 'Automatic',<br>  name: 'Toyota Yaris',<br>  manufacturer: 'Toyota',<br>  fuel_type: 'Petrol',<br>  description: 'A smooth ride' }<br>{ id: 2,<br>  type: 'Manual',<br>  name: 'Volkswagen Golf',<br>  manufacturer: 'Volkswagen',<br>  fuel_type: 'Petrol',<br>  description: 'Good Value' }<br>PutItem succeeded: Toyota Yaris<br>PutItem succeeded: Volkswagen Golf<br>âœ¨  Done in 0.46s.</pre> <p>Now our datas in there, but how do we know? Letâ€™s run a quick test using Dynamo DBs<a href="https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/DynamoDB/DocumentClient.html"> DocumentClientÂ </a><strong>.get </strong>method. <strong>DocumentClient </strong>is just a class that simplifies working with DynamoDBÂ Items.</p> <pre>#<strong>JavaScript - readDataTest.js </strong></pre> <pre>var AWS = require("aws-sdk");</pre> <pre>AWS.config.update({<br>  region: "eu-west-2",<br>  endpoint: "<a href="http://localhost:8000">http://localhost:8000</a>"<br>});</pre> <pre>var docClient = new AWS.DynamoDB.DocumentClient()</pre> <pre>var table = "Cars";</pre> <pre>var id = 1;</pre> <pre>var params = {<br>    TableName: table,<br>    Key:{<br>        "id": id<br>    }<br>};</pre> <pre>docClient.get(params, function(err, data) {<br>    if (err) {<br>        console.error("Unable to read item. Error JSON:", JSON.stringify(err, null, 2));<br>    } else {<br>        console.log("GetItem succeeded:", JSON.stringify(data, null, 2));<br>    }<br>});</pre> <p>Remembering our JSON file, we should expect the <strong>Toyota Yaris</strong> to be returned to theÂ consoleâ€¦</p> <pre>#<strong>bash</strong><br>$ yarn read-data<br>yarn run v1.3.2<br>$ cd dynamodb &amp;&amp; node readDataTest.js &amp;&amp; cd ..<br>GetItem succeeded: {<br>  "Item": {<br>    "name": "Toyota Yaris",<br>    "description": "A smooth ride",<br>    "id": 1,<br>    "type": "Automatic",<br>    "fuel_type": "Petrol",<br>    "manufacturer": "Toyota"<br>  }<br>}<br>âœ¨  Done in 0.56s.</pre> <p>BAM! DynamoDB is setup and seeded with data, now we just need to bring all the elements together.</p> <h4><strong>Bringing it allÂ together</strong></h4> <p>At the moment, our Node backend isnâ€™t actually talking to Dynamo DB at all, lets change that by incorporating some of the methods weâ€™ve used above and create a route that returns <strong>allÂ cars.</strong></p> <p>To do this weâ€™re going to using <a href="https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/DynamoDB/DocumentClient.html">DynamoDBs DocClient</a> <strong>scanÂ </strong>method.</p> <pre>#<strong>Javascript app.js</strong></pre> <pre>var express = require('express');<br>var path = require('path');<br>var favicon = require('serve-favicon');<br>var logger = require('morgan');<br>var cookieParser = require('cookie-parser');<br>var bodyParser = require('body-parser');<br>var AWS = require("aws-sdk");</pre> <pre>var app = express();</pre> <pre>app.listen(3000, () =&gt; console.log('Cars API listening on port 3000!'))</pre> <pre>AWS.config.update({<br>  region: "eu-west-2",<br>  endpoint: "<a href="http://localhost:8000">http://localhost:8000</a>"<br>});</pre> <pre>var docClient = new AWS.DynamoDB.DocumentClient();</pre> <pre>app.use(logger('dev'));<br>app.use(bodyParser.json());<br>app.use(bodyParser.urlencoded({ extended: false }));<br>app.use(cookieParser());<br>app.set('view engine', 'jade');</pre> <pre>app.get('/', function (req, res) {<br>  res.send({ title: "Cars API Entry Point" })<br>})</pre> <pre>app.get('/cars', function (req, res) {</pre> <pre>var params = {<br>    TableName: "Cars",<br>    ProjectionExpression: "#id, #name, #type, #manufacturer, #fuel_type, #description",<br>    ExpressionAttributeNames: {<br>        "#id": "id",<br>        "#name": "name",<br>        "#type": "type",<br>        "#manufacturer": "manufacturer",<br>        "#fuel_type": "fuel_type",<br>        "#description": "description"<br>    }<br>};</pre> <pre>console.log("Scanning Cars table.");<br>docClient.scan(params, onScan);</pre> <pre>function onScan(err, data) {<br>    if (err) {<br>        console.error("Unable to scan the table. Error JSON:", JSON.stringify(err, null, 2));<br>    } else {<br>        res.send(data)<br>        // print all the Cars<br>        console.log("Scan succeeded.");<br>        data.Items.forEach(function(car) {<br>           console.log(car.id, car.type, car.name)<br>        });</pre> <pre>if (typeof data.LastEvaluatedKey != "undefined") {<br>            console.log("Scanning for more...");<br>            params.ExclusiveStartKey = data.LastEvaluatedKey;<br>            docClient.scan(params, onScan);<br>        }<br>    }<br>  }<br>})</pre> <p>This is what you want your <strong>app.js </strong>file to look like. I know we can refactor this and move some code to the routes folder, however for the purposes of keeping this article as to the point as possible, Iâ€™ll leave that toÂ you.</p> <p>As the file shows, we create a new route called <strong>/cars </strong>and create a params variable, which contains the name of the table and what we want to be returned from our scan. We then create a function called <strong>onScan </strong>which sends our data to the client and logs our results to console. This also contains some error catching, should there be any issues with yourÂ request.</p> <p>Now, if you navigate to <a href="http://localhost:3000/cars"><strong>http://localhost:3000/cars</strong></a><strong> </strong>you should see something resembling theÂ below.</p> <pre>#<strong>JSON - response from </strong><a href="http://localhost:3000/cars"><strong>http://localhost:3000/cars</strong></a></pre> <pre>{"Items":[{"name":"Volkswagen Golf","description":"Good Value","id":2,"fuel_type":"Petrol","type":"Manual","manufacturer":"Volkswagen"},{"name":"Toyota Yaris","description":"A smooth ride","id":1,"fuel_type":"Petrol","type":"Automatic","manufacturer":"Toyota"}],"Count":2,"ScannedCount":2}</pre> <p>Great job! Now youâ€™ve got building blocks of a Node.js RESTful API using AWS DynamoDB.</p> <p>Letâ€™s do one more route where we ask DynamoDB to return a car, byÂ <strong>id.</strong></p> <p>Letâ€™s call our route <strong>/cars/:id. </strong>Weâ€™ll pass the ID in via our request url. Weâ€™ll then use the ID to query the table and return us the correct car. We get the<strong> id </strong>value by slicing the string to return us only theÂ number.</p> <p>Remember, however, when we created our table we specified that the <strong>id was a number type.</strong> Therefore if we try to pass the value, as it is, to DynamoDB, itâ€™ll spit back an error. <strong>We first need to convert our id value from string to integer using parseInt().</strong></p> <pre><strong>#JavaScript - app.js</strong></pre> <pre>[...]</pre> <pre>app.get('/cars/:id', function (req, res) {</pre> <pre>var carID = parseInt(req.url.slice(6));<br>  console.log(req.url)<br>  console.log(carID)</pre> <pre>var params = {<br>      TableName : "Cars",<br>      KeyConditionExpression: "#id = :id",<br>      ExpressionAttributeNames:{<br>          "#id": "id"<br>      },<br>      ExpressionAttributeValues: {<br>          ":id": carID<br>      }<br>  };</pre> <pre>docClient.query(params, function(err, data) {<br>    if (err) {<br>        console.error("Unable to query. Error:", JSON.stringify(err, null, 2));<br>    } else {<br>        console.log("Query succeeded.");<br>        res.send(data.Items)<br>        data.Items.forEach(function(car) {<br>            console.log(car.id, car.name, car.type);<br>        });<br>    }<br>});</pre> <pre>});</pre> <p>We save our converted <strong>carID </strong>value in a variable and use this in our params object. We then use the <strong>query </strong>method to gather and return the data to the client. If all is setup correctly, you should be able to navigate to <a href="http://localhost:3000/cars/1"><strong>http://localhost:3000/cars/1</strong></a><strong> </strong>and see that the Yaris is returned as JSON. If you check your terminal youâ€™ll see the <strong>id, name and type </strong>of the carÂ queried.</p> <pre>#<strong>JSON - </strong><a href="http://localhost:3000/cars/1"><strong>http://localhost:3000/cars/1</strong></a></pre> <pre>[{"name":"Toyota Yaris","description":"A smooth ride","id":1,"type":"Automatic","fuel_type":"Petrol","manufacturer":"Toyota"}]</pre> <pre>#<strong>bash</strong></pre> <pre>$ yarn start<br>[nodemon] starting `node app.js`<br>Cars API listening on port 3000!<br>/cars/1<br>1<br>Query succeeded.<br>1 'Toyota Yaris' 'Automatic'<br>GET /cars/1 200 47.279 ms - 126</pre> <p>From here you can add additional routes to search by car name, car type and look to implement POSTing to the DB. Hint: this will be similar to our <strong>loadCarData.js </strong>file, using DynamoDBâ€™s <strong>PutItem </strong>function.</p> <p>Next time Iâ€™ll look to deploy our sample app to AWS Elastic Beanstalk along with AWS DynamoDB and implement a build pipeline with CircleCI and testing usingÂ Postman.</p> <p>If you wish, you can check all the code out here, at the example <a href="https://github.com/jameshamann/node-dynamo-db-example">GithubÂ Repo</a>.</p> <p>As always, thanks for reading, hit ğŸ‘ if you like what you read and be sure to follow to keep up to date with futureÂ posts.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/728/1*nkCbG-E0EXjdaOtcaPQ6_g.gif"></figure><img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=7e342a934a24" width="1" height="1"><hr> <p><a href="https://medium.com/quick-code/node-js-restful-api-with-dynamodb-local-7e342a934a24">Node.js RESTful API with DynamoDB Local</a> was originally published in <a href="https://medium.com/quick-code">Quick Code</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p> </div> </div> <div class="row"> <div class="col s10 offset-s1"> <h4 style="text-align:center"><b>Automation With Cron</b></h4> <p style="text-align:justify"><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*iFN_PWPWs6TQ9JzDp2v9Wg.jpeg"></figure></p> <p>Thereâ€™s been quite a few projects recently where Iâ€™ve found myself doing tedious things that can easily be automated. Enter <strong>Cron</strong>, the time-based job scheduler.</p> <p>Once or twice a week I find myself updating/rebuilding my Jekyll Site because it displays my Medium RSS feed as a Blog page. As the site is static, I need to re-build it every time I publish something new. Itâ€™s not an issue as itâ€™s only a few commands, but sometimes I forget and weeks can go by without updating my site. Writing a Cron job is so stupidly easy, youâ€™ll find yourself automating pretty much every mundane task youÂ do.</p> <h4>Writing a CronÂ Job</h4> <pre><strong>#bash</strong></pre> <pre>$ env EDITOR=nano crontab -e #opens nano in your terminal, with your crontab open. </pre> <p>You should see something like this now, after running the aboveÂ command.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*BmkWB_Ewb4C4CUB4kyu4zQ.png"></figure><p>Ok so not exactly like this, as this contains my cron job, but it should be a nice empty text file. For my purpose, I decided to create an executable file with the commands and then get cron to run that, however you can run the commands inside here, itâ€™s just tidier to write a script forÂ it.</p> <h4><strong>Cron Time Intervals</strong></h4> <p>Cron works by executing your commands at a determined time, whether that be weekly on a Monday at 2pm or on the 15th of each month. The <strong>* * * * * </strong>at the start each determine a different timeÂ scale.</p> <ul> <li>1st character, *â€Šâ€”â€ŠMinute of theÂ Day</li> <li>2nd character, * *â€Šâ€”â€ŠHour of theÂ Day</li> <li>3rd character, * * *â€Šâ€”â€ŠDay of theÂ Month</li> <li>4th character, * * * *â€Šâ€”â€ŠMonth of theÂ Year</li> <li>5th character, * * * * *â€Šâ€”â€ŠDay of the Week (0â€“7, Sunday is both represented by a 0 andÂ 7)</li> </ul> <p>Youâ€™ll notice in my example, I decided to execute every week on aÂ Sunday.</p> <p>Hereâ€™s another example if you want to run a job at 6:30 everyÂ Tuesday.</p> <pre>#<strong>nano</strong></pre> <pre>30 18 * * 2 yourcommand #execute every Tuesday at 18:30</pre> <pre>45 07 10 * * yourcommand # execute every 10th day of the month at 07:45</pre> <pre>20 15 * * 3 yourcommand # execute at 15:20 every Wednesday</pre> <p>Letâ€™s make this a little easier and add some shortcut commands to ourÂ <strong>.bashrc </strong>orÂ <strong>.zshrc </strong>(depending on what youâ€™reÂ using).</p> <p>Using the <strong>alias </strong>command we can shortcut a long command to something a little easier to remember andÂ type.</p> <pre>#<strong>.bashrc or .zshrc</strong></pre> <pre>alias newcron="env EDITOR=nano crontab -e" #open a new crontab<br>alias cronjobs="crontab -l" # list our cronjobs</pre> <p>Now youâ€™re set to automate whatever youÂ want!</p> <p>As always, thanks for reading, hit ğŸ‘ if you like what you read and be sure to follow to keep up to date with futureÂ posts.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/728/1*nkCbG-E0EXjdaOtcaPQ6_g.gif"></figure><img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=d10f7cbbb638" width="1" height="1"> </div> </div> <div class="row"> <div class="col s10 offset-s1"> <h4 style="text-align:center"><b>Circle CI and DynamoDB</b></h4> <p style="text-align:justify"><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*HB_1Qb46JUVaECkT4kv7FA.png"></figure></p> <p>After searching around whilst building a Node.js API project, I realised there wasnâ€™t too much documented on how to setup CircleCI with AWS DynamoDB for testing purposes within your build pipeline. I thought Iâ€™d do a quick post to summarise the process and hopefully make it clearer for others who are trying to achieve theÂ same.</p> <h4>Getting Started</h4> <p>As I mentioned above, I was building a Node.js API, however this process should translate regardless of the language or tools youâ€™re using. Before going any further, please make sure youâ€™ve entered your <strong>AWS_ACCESS_KEY</strong> and <strong>AWS_SECRET_KEY </strong>into your CircleCI Project. This can be done from the setting page of your Project, under the <strong>Permissions </strong>heading.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/706/1*ZML55IXm5lZjI-gjD-_cLA.png"><figcaption>Hit the <strong>AWS Permissions </strong>link and enter your variables</figcaption></figure><p>Now weâ€™re going to need to edit our circleci <strong>config.yml </strong>file. The below is my finished version. I know itâ€™s pretty long and messy and can definitely be refactored, but it does the job forÂ now.</p> <pre><strong>#YAML</strong></pre> <pre>version: 2</pre> <pre>branches:<br>    only:<br>     - master # list of branches to build</pre> <pre>jobs:<br>  build:<br>    docker:<br>      - image: circleci/node</pre> <pre>working_directory: ~/repo</pre> <pre>steps:<br>      - checkout<br>      - run:<br>          name: Install Java<br>          command: 'sudo apt-get update &amp;&amp; sudo apt-get install default-jre default-jdk'<br>      - run:<br>          name: Install Python<br>          command: 'sudo apt-get update &amp;&amp; sudo apt-get install -y python-dev'<br>      - run:<br>          name: Install Python<br>          command: 'sudo curl -O <a href="https://bootstrap.pypa.io/get-pip.py'">https://bootstrap.pypa.io/get-pip.py'</a><br>      - run:<br>          name: Install Python<br>          command: 'sudo python get-pip.py'</pre> <pre>- run:<br>          name: Install AWS CLI<br>          command: 'sudo pip install awsebcli --upgrade'<br>      - run:<br>          name: Setup Container<br>          command: |<br>              curl -k -L -o dynamodb-local.tgz <a href="http://dynamodb-local.s3-website-us-west-2.amazonaws.com/dynamodb_local_latest.tar.gz">http://dynamodb-local.s3-website-us-west-2.amazonaws.com/dynamodb_local_latest.tar.gz</a><br>              tar -xzf dynamodb-local.tgz<br>              java -Djava.library.path=./DynamoDBLocal_lib -jar DynamoDBLocal.jar -sharedDb<br>          background: true<br>      - run:<br>          name: Update yarn<br>          command: 'yarn global add npm@latest'<br>      - restore_cache:<br>          key: dependency-cache-{{ checksum "package.json" }}<br>      - run:<br>          name: Install Dependencies<br>          command: yarn install<br>      - save_cache:<br>          key: dependency-cache-{{ checksum "package.json" }}<br>          paths:<br>            - node_modules<br>      - run:<br>          name: Start Server<br>          command: 'yarn ci-start'<br>          background: true<br>      - run:<br>          name: Create Table<br>          command: 'yarn create-db'<br>      - run:<br>          name: Load Data<br>          command: 'yarn load-data'<br>      - run:<br>          name: Run Tests<br>          command: 'yarn test'<br>      - run:<br>          name: Deploy to AWS Elastic Beanstalk<br>          command: 'eb init MyApp -r eu-west-2 -p arn:aws:elasticbeanstalk:eu-west-2::platform/Node.js running on<br>                    64bit Amazon Linux/4.4.3'<br>      - run:<br>          name: Deploy to AWS Elastic Beanstalk<br>          command: 'eb deploy your-env'</pre> <p>First up we install Java as DynamoDB requires Java to run. The next part is optional, but as my app deploys to Elastic Beanstalk, I download Python as AWS EB CLI requires Python to run. Lastly we install DynamoDB directly from Amazon, Iâ€™ve chosen <strong>eu-west-2, </strong>but choose whichever location is nearest to you. This downloads as a zip, so we unzip it and then run theÂ <strong>.jar </strong>file. The important thing here is to note the use of the option <strong>background: true. </strong>This ensures it runs in the background and doesnâ€™t stall your build from going onto the next stage. From here, you can launch your server as a background task, load your data in and run yourÂ tests.</p> <p>Hope you this helped anyone having trouble incorporating DynamoDB into their build pipelines. If youâ€™re stuck, or have any questions, pleaseÂ ask!</p> <p>As always, thanks for reading, hit ğŸ‘ if you like what you read and be sure to follow to keep up to date with futureÂ posts.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/728/1*nkCbG-E0EXjdaOtcaPQ6_g.gif"></figure><img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=6db3c82f2f6a" width="1" height="1"> </div> </div> <div class="row"> <div class="col s10 offset-s1"> <h4 style="text-align:center"><b>Thanks for taking the time to read through, glad it helped!</b></h4> <p style="text-align:justify"></p> <p>Thanks for taking the time to read through, glad it helped! If you ever need a hand with anything just give me a shout and Iâ€™ll be happyÂ help!</p> <img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=ca834804a894" width="1" height="1"> </div> </div> <div class="row"> <div class="col s10 offset-s1"> <h4 style="text-align:center"><b>Creating a Google Chrome Extension</b></h4> <p style="text-align:justify"><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*ANLjz9D0Y0k6sXHKWROYjw.png"></figure></p> <p>I recently created a simple Chrome Extension (<a href="https://chrome.google.com/webstore/detail/crypcheck/lafbodcgahbokcblephohaafmmnnffhp">CrypCheck</a>) that displays the current, live, price of some of the popular Crypto Currencies. After going through the process, itâ€™s a lot quicker and easier than you think to write, test and publish your own Chrome Extension.</p> <p>Firstly, setup a working directory and push it up to Github (or whatever else youÂ use).</p> <pre><strong>#bash</strong></pre> <pre>$ mkdir my_awesome_chrome_extension<br>$ cd my_awesome_chrome_extension<br>$ git init<br>$ echo "#my_awesome_chrome_extension" &gt;&gt; README.md<br>$ git add .<br>$ git commit -m 'first commit, setting up project'<br>$ git remote add origin yourremote.git<br>$ git push origin master</pre> <p>Next, weâ€™re gonna want to download the starter files that Google provide in their docs. Click here and go to the <strong>Resources </strong>heading. You should end up with four files downloaded, <strong>manifest.json, popup.html, popup.js </strong>and <strong>icon.png</strong> (this is optional and can be replaced with any icon of yourÂ choice).</p> <p>Now weâ€™re going to want to load the extension in so we can test it locally. Navigate to the URL <strong>chrome://extensions/. </strong>From here, you should see a button at the top labelled <strong>Load unpacked extension. </strong>After clicking it, navigate to the working directory of your plugin and select it. This loads the Plug-In into your browser from the directory. You should be able to play with the sample app now, which allows you to change colours. Now youâ€™re ready to build and test yourÂ app!</p> <p>Remember, if you require any third party libraries like jQuery, youâ€™re going to need to load them in. Also, make sure to edit the <strong>manifest.json</strong> to reflect details of your own app, as opposed to the sample app. This is an example of what my <strong>manifest.json </strong>looksÂ like.</p> <pre><strong>#json</strong></pre> <pre>{<br>  "manifest_version": 2,</pre> <pre>"name": "CrypCheck",<br>  "description": "This extension allows the user to check the price of Bitcoin, Bitcoin Cash, Ethereum, Litecoin, Ripple and IOTA.",<br>  "version": "2.0",</pre> <pre>"browser_action": {<br>    "default_icon": "icon.png",<br>    "default_popup": "popup.html"<br>  },<br>  "permissions": [<br>    "activeTab",<br>    "storage"<br>  ]<br>}</pre> <p>Depending on the complexity of your project, you might also want to setup a structure to it. Especially if you find yourself loading in fonts, libraies and anything else, below is the folder structure of myÂ app.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/598/1*GR_HwJJaiqgUs-wl5_V1ww.png"></figure><p>One thing to note, regarding the <strong>icon.png </strong>size, is that Google requires the size to be 128x128 pixels. You can also provide additional sizes of 48x48 andÂ 16x16.</p> <h4>Publishing your extension</h4> <p>After completing your extension and making sure it works, youâ€™re gonna want to share it with the world. Head over to <a href="https://chrome.google.com/webstore/developer/dashboard">Chromeâ€™s Web Dashboard</a> and Login with your Google Account. Once the page loads, hit the <strong>Add new Item </strong>button. This will prompt you to upload a zip of your project, which can be done by running the following command.</p> <pre><strong>#bash</strong></pre> <pre>$ zip -r my_awesome_chrome_extension_v1.zip my_awesome_chrome_extension</pre> <p>Once the zip file uploads you can edit the details before publishing. This includes where you want to distribute the app, the category you want it to appear in and all the other details regarding itâ€™s publication.</p> <p>Once youâ€™re finished tweaking hit <strong>Publish Changes. </strong>Congrats! Youâ€™ve published a Chrome Extension! Make sure to delete the one in your browser and re-download it from the Web Store, so youâ€™re running the production version.</p> <p>If youâ€™re interested, you can take a look at my <a href="https://github.com/jameshamann/crypto-price-check">appâ€™s repo</a> as anÂ example.</p> <p>As always, thanks for reading, hit ğŸ‘ if you like what you read and be sure to follow to keep up to date with futureÂ posts.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/728/1*nkCbG-E0EXjdaOtcaPQ6_g.gif"></figure><img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=877fad2db6a6" width="1" height="1"> </div> </div> <div class="row"> <div class="col s10 offset-s1"> <h4 style="text-align:center"><b>React with CircleCI, AWS S3 and AWS CloudFront</b></h4> <p style="text-align:justify"><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*DzywrjTJa-1S727h-toZbw.png"></figure></p> <p>Today weâ€™re going to be whipping up a simple React Project with a build pipeline that deploys to an S3 bucket, which is distributed through CloudFront. The benefits of deploying your React App this way are that you can automate your build and deployment tasks and by distributing your app across CloudFront youâ€™ll be able to provision a free SSL certificate on it, which isÂ great!</p> <h4>Prerequisites</h4> <ul> <li><a href="https://github.com">Github Account</a></li> <li><a href="https://aws.amazon.com">AWS Account</a></li> <li><a href="http://docs.aws.amazon.com/cli/latest/userguide/installing.html">AWS CLI</a></li> <li><a href="https://circleci.com">CircleCI Account</a></li> <li>Basic Knowledge of React, Git and the CommandÂ Line</li> </ul> <h4>Getting Started</h4> <p>First of all, letâ€™s scaffold an app using <strong>create-react-app.</strong></p> <pre>#<strong>bash </strong></pre> <pre>$ create-react-app myawesomeapp</pre> <pre>[...]</pre> <pre>Success! Created myawesomapp at /your/path/myawesomapp<br>Inside that directory, you can run several commands:</pre> <pre>yarn start<br>    Starts the development server.</pre> <pre>yarn build<br>    Bundles the app into static files for production.</pre> <pre>yarn test<br>    Starts the test runner.</pre> <pre>yarn eject<br>    Removes this tool and copies build dependencies, configuration files<br>    and scripts into the app directory. If you do this, you canâ€™t go back!</pre> <pre>We suggest that you begin by typing:</pre> <pre>cd myawesomapp<br>  yarn start</pre> <pre>Happy hacking!</pre> <p>Now, setup your repo on Github and push your codeÂ up.</p> <pre>#<strong>bash</strong> </pre> <pre>$ git add .<br>$ git commit -m 'first commit, scaffolds project with create-react-app'<br>$ git remote add origin <a href="https://yourrepo">https://yourrepo</a><br>$ git push -u origin master</pre> <p>Now you should have your initial project up on Github. From here weâ€™ll checkout feature branches and merge them in as we complete them. You can use a project management tool like <a href="https://waffle.io">Waffle</a> or <a href="https://trello.com">Trello</a> if you like, it helps keep track of what needs to be done. Depending on the complexity of your project, you could also checkout a staging branch and merge your features into that, bit by bit, but for the purposes of this weâ€™ll stick with merging into master. The process is identical though, itâ€™ll just require a bit more configuration.</p> <pre>$ git checkout -b 1-setting-up-build-pipeline<br>$ git push origin 1-setting-up-build-pipeline</pre> <h4>Setting upÂ AWS</h4> <p>Head over to AWS and go to the S3 dashboard. Here weâ€™ll create a bucket and set itâ€™s permissions toÂ <strong>public.</strong></p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*6yZDmRUQu6hImt0DdUbcCQ.png"><figcaption>s3 dashboard</figcaption></figure><p>Click <strong>Create bucket </strong>and call your bucket something useful, like the name of your app or the domain itâ€™ll live on, if youâ€™ve bought one. I called mine <strong>myawesomeapp.com. </strong>Now weâ€™ll quickly configure the permissions of the bucket and set it to <strong>public</strong> so that it can be accessed and viewed on a browser, by the general public. Click the <strong>Permissions </strong>tab and then the <strong>Bucket Policy</strong> button, this will bring up anÂ editor.</p> <p>AWS uses JSON policy files to manage permissions of buckets and other services, the example below allows the public to <strong>Read</strong> the contents of the S3Â bucket.</p> <pre><strong>#JSON</strong></pre> <pre>{<br>    "Version": "2012-10-17",<br>    "Statement": [<br>        {<br>            "Sid": "AddPerm",<br>            "Effect": "Allow",<br>            "Principal": "*",<br>            "Action": "s3:GetObject",<br>            "Resource": "arn:aws:s3:::myawesomeapp.com/*"<br>        }<br>    ]<br>}</pre> <p>You might be tempted to change the date, <strong>but donâ€™t</strong>. Itâ€™s taken from their <a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/example-bucket-policies.html">docs</a> and is linked to a particular version, changing it may break/alter your permissions.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*3McynE2yYkmkiihfBRKlqQ.png"><figcaption>Bucket Policy</figcaption></figure><p>Lastly, youâ€™ll need to configure your S3 bucket to host static sitesâ€Šâ€”â€Šthis is literally just clicking a fewÂ buttons.</p> <p>Head over to the <strong>Properties </strong>tab and click the <strong>Static Website Hosting</strong> card. Youâ€™ll need to input the entry page, which in our case will be <strong>index.html</strong>, you can also create an error page, but weâ€™ll leave that blank for now. Hit <strong>Save</strong> and weâ€™re ready toÂ go!</p> <p>Using AWS CLI, weâ€™re gonna sync our project with our bucket. Make sure youâ€™ve got your Access Keys setup, if not just type <strong>aws configure</strong> in your shell and enter them there. These can be found/generated in <strong>My Security Credentials.</strong></p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/572/1*_-UciD-POyZG00v7Eao8pQ.png"></figure><p>Before syncing, weâ€™ll need to build our project for production. Weâ€™ll then sync the contents of the <strong>build </strong>folder with our S3 bucket and BAM weâ€™reÂ live.</p> <pre>#<strong>bash</strong></pre> <pre>$ yarn build<br>yarn run v1.3.2</pre> <pre>$ react-scripts build<br>Creating an optimized production build...<br>Compiled successfully.</pre> <pre>File sizes after gzip:</pre> <pre>35.65 KB  build/static/js/main.35d639b7.js<br>  299 B     build/static/css/main.c17080f1.css</pre> <pre>The project was built assuming it is hosted at the server root.<br>To override this, specify the homepage in your package.json.<br>For example, add this to build it for GitHub Pages:</pre> <pre>"homepage" : "<a href="http://myname.github.io/myapp">http://myname.github.io/myapp</a>",</pre> <pre>The build folder is ready to be deployed.<br>You may serve it with a static server:</pre> <pre>yarn global add serve<br>  serve -s build</pre> <pre>âœ¨  Done in 7.49s.</pre> <pre>$ aws s3 sync build/ s3://myawesomeapp.com --delete</pre> <pre>upload: build/service-worker.js to s3://myawesomeapp.com/service-worker.js<br>upload: build/manifest.json to s3://myawesomeapp.com/manifest.json<br>upload: build/favicon.ico to s3://myawesomeapp.com/favicon.ico<br>upload: build/index.html to s3://myawesomeapp.com/index.html<br>upload: build/static/css/main.c17080f1.css.map to s3://myawesomeapp.com/static/css/main.c17080f1.css.map<br>upload: build/asset-manifest.json to s3://myawesomeapp.com/asset-manifest.json<br>upload: build/static/media/logo.5d5d9eef.svg to s3://myawesomeapp.com/static/media/logo.5d5d9eef.svg<br>upload: build/static/css/main.c17080f1.css to s3://myawesomeapp.com/static/css/main.c17080f1.css<br>upload: build/static/js/main.35d639b7.js to s3://myawesomeapp.com/static/js/main.35d639b7.js<br>upload: build/static/js/main.35d639b7.js.map to s3://myawesomeapp.com/static/js/main.35d639b7.js.map</pre> <p>Now head back to your S3 bucket, under the <strong>Static Website Hosting </strong>card and click the <strong>Endpoint </strong>URL. If all is good, youâ€™ll see the React WelcomeÂ Page.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*Wv6Dpt5fW_a0FsWPAUx1mw.png"></figure><p>Your appâ€™s now on S3! We can somewhat automate this further by combining the commands. Add the following to your <strong>package.json</strong> under the <strong>scriptsÂ </strong>section.</p> <pre>#JSON</pre> <pre>{<br>  "name": "myawesomapp",<br>  "version": "0.1.0",<br>  "private": true,<br>  "dependencies": {<br>    "react": "^16.2.0",<br>    "react-dom": "^16.2.0",<br>    "react-scripts": "1.0.17"<br>  },<br>  "scripts": {<br>    "start": "react-scripts start",<br>    "build": "react-scripts build",<br>    "test": "react-scripts test --env=jsdom",<br>    "eject": "react-scripts eject",<br><strong>    "deploy": "yarn build &amp;&amp; aws s3 sync build/ s3://myawesomeapp.com --delete"</strong><br>  }<br>}</pre> <p>This runs <strong>yarn build </strong>and syncs the contents of your <strong>build/ </strong>folder with your S3Â bucket.</p> <h4>CircleCI Setup</h4> <p>Firstly, add your project by clicking <strong>Setup Project </strong>on the CircleCI Dashboard.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*YpJQR7ZHFgEw9J8DCjTgSA.png"></figure><p>Next youâ€™ll want to make sure you have <strong>CircleCI 2.0 </strong>as opposed to 1.0, which is a bit older. As weâ€™re creating a React Project, we want our container to be Preconfigured withÂ <strong>Node.</strong></p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*cQLc_HVkG4VOLvep7qR79Q.png"></figure><p>Follow the instructions laid out on the CircleCI Dashboard. Your <strong>config.yml </strong>file inside yourÂ <strong>.circleci </strong>folder, should look something likeÂ this.</p> <pre>#<strong>yaml </strong></pre> <pre># Javascript Node CircleCI 2.0 configuration file<br>#<br># Check <a href="https://circleci.com/docs/2.0/language-javascript/">https://circleci.com/docs/2.0/language-javascript/</a> for more details<br>#<br>version: 2<br>jobs:<br>  build:<br>    docker:<br>      # specify the version you desire here<br>      - image: circleci/node:7.10</pre> <pre># Specify service dependencies here if necessary<br>      # CircleCI maintains a library of pre-built images<br>      # documented at <a href="https://circleci.com/docs/2.0/circleci-images/">https://circleci.com/docs/2.0/circleci-images/</a><br>      # - image: circleci/mongo:3.4.4</pre> <pre>working_directory: ~/repo</pre> <pre>steps:<br>      - checkout</pre> <pre># Download and cache dependencies<br>      - restore_cache:<br>          keys:<br>          - v1-dependencies-{{ checksum "package.json" }}<br>          # fallback to using the latest cache if no exact match is found<br>          - v1-dependencies-</pre> <pre>- run: yarn install</pre> <pre>- save_cache:<br>          paths:<br>            - node_modules<br>          key: v1-dependencies-{{ checksum "package.json" }}</pre> <pre># run tests!<br>      - run: yarn test<br>      - run: sudo apt-get update &amp;&amp; sudo apt-get install -y python-dev<br>      - run: sudo curl -O <a href="https://bootstrap.pypa.io/get-pip.py">https://bootstrap.pypa.io/get-pip.py</a><br>      - run: sudo python get-pip.py<br>      - run: sudo pip install awscli --upgrade<br>      - run: aws --version<br>      - run: aws s3 ls<br>      - run: yarn run deploy</pre> <p>Youâ€™ll notice weâ€™ve added a few extra things. We<strong> </strong>install python and download AWS CLI. After that we check installed by checking the version and list our S3Â Buckets.</p> <p>Once this is done, head back to the CircleCI dashboard and hit <strong>Start Building. </strong>From here you can navigate to your Project Settings and save your <strong>AWS_ACCESS_KEY_ID </strong>and your <strong>AWS_SECRET_ACCESS_KEY</strong>.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*3O6sT23QOhTtFYQRXF1Kkg.png"></figure><p>Once this is done, push your changes up to github and open a pull request. On the first Pull Request CircleCI wonâ€™t register, so just hitÂ merge.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*nMbRQCyZrY97Pp1m4eowGw.png"></figure><p>Youâ€™re pretty much setÂ now!</p> <p>Checkout another branch for your next feature and once your ready to open a pull-request youâ€™ll notice CircleCI will run your tests and if all passes and you merge, itâ€™llÂ deploy!</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*gEOuegBScam8dW9k0s2xjA.png"></figure><p>Congrats! Youâ€™ve setup a React App with a build pipeline, hosted onÂ AWS!</p> <h4>Deploying your App Through AWS CloudFront</h4> <p>Now youâ€™ve got a build pipeline setup and synced to deploy with your AWS Bucket, which is great. But itâ€™d be even better if you distributed that across a CDN and slapped a SSL certificate on it. Enter CloudFrontâ€¦</p> <p>Navigate to CloudFrontâ€™s dashboard and hit <strong>Create Distribution.</strong></p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*FLpxg0PniEPl8yZsPzYmKg.png"></figure><p>Youâ€™ll then be given two options, as weâ€™re creating a Web App, youâ€™ll need to selectÂ <strong>Web</strong>.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*NZDSWTzbxUMUzP7ZV9xEtw.png"></figure><p>On the next screen, in the <strong>Origin Domain Name</strong> field, youâ€™ll get a dropdown list. Choose the name of your <strong>S3 </strong>bucket. Youâ€™ll also want to change the <strong>Viewer Protocol Policy </strong>to <strong>Redirect HTTP to HTTPS. </strong>Lastly youâ€™ll need to set the <strong>Default Root Object </strong>to <strong>index.html</strong> as thatâ€™s the entry page to ourÂ app.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*2IUblcnhcdI8dnofm1aFeA.png"></figure><p>Once youâ€™re done hit <strong>Create Distribution. </strong>This will take a short while to deploy, but once itâ€™s complete head over to the Distribution URL and you should see your app, as well as an SSL certificate.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*MxA6JwpLfc8zpwZF9ztCog.png"></figure><p>Youâ€™re done! If you own your own domain, and itâ€™s hosted in AWS Route 53, you can create an Alias record to point to the Distribution URL.</p> <p>If you have any questions, or need a hand with anything, drop a comment and Iâ€™d be happy to help! <a href="https://github.com/jameshamann/myawesomeapp">Hereâ€™s a link to the exampleÂ repo.</a></p> <p>As always, thanks for reading, hit ğŸ‘ if you like what you read and be sure to follow to keep up to date with futureÂ posts.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/728/1*nkCbG-E0EXjdaOtcaPQ6_g.gif"></figure><img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=844a1b2c75c9" width="1" height="1"><hr> <p><a href="https://blog.cloudboost.io/react-with-circleci-aws-s3-and-aws-cloudfront-844a1b2c75c9">React with CircleCI, AWS S3 and AWS CloudFront</a> was originally published in <a href="https://blog.cloudboost.io">CloudBoost</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p> </div> </div> <p style="text-align: center"><a class="waves-effect waves-light btn green darken-2" target="_blank" href="https://medium.com/@jameshamann/"><i class="material-icons right">library_books</i>Read more at Medium</a></p> <script type="text/javascript" src="/assets/js/jquery-3.2.1.min.js"></script> <script type="text/javascript" src="/assets/js/materialize.min.js"></script> <script src="/assets/js/init.js"></script> </body> <footer class="page-footer"> <div class="footer-copyright" style="padding-left: 30px"> <i class="material-icons" style="padding-right:5px">copyright</i><p>2017 Copyright James Hamann | All rights reserved</p> </div> </footer> </html>